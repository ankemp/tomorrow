<h2 tuiTitle="m">{{ title() }} tasks</h2>

<div class="task-list-group">
  <tw-task-list-header
    title="Overdue"
    headerSize="xs"
    icon="@tui.clock-9"
    [sticky]="true"
  >
    @if (overdueTasks().length > 0) {
      <button
        appearance="flat-grayscale"
        size="m"
        tuiIconButton
        iconStart="@tui.check-check"
        type="button"
        (click)="completeAll(overdueTasks())"
      >
        Complete All
      </button>
    }
  </tw-task-list-header>
  <div class="task-list-grid">
    @for (task of overdueTasks(); track task.id) {
      <tw-task-list-card [task]="task" [showCategory]="false" />
    } @empty {
      <tw-empty-state title="No Overdue Tasks" />
    }
  </div>
</div>

<div class="task-list-group">
  <tw-task-list-header
    title="Today"
    headerSize="xs"
    icon="@tui.clock-12"
    [sticky]="true"
  >
    @if (todaysTasks().length > 0) {
      <button
        appearance="flat-grayscale"
        size="m"
        tuiIconButton
        iconStart="@tui.check-check"
        type="button"
        (click)="completeAll(todaysTasks())"
      >
        Complete All
      </button>
    }
  </tw-task-list-header>
  <div class="task-list-grid">
    @for (task of todaysTasks(); track task.id) {
      <tw-task-list-card [task]="task" [showCategory]="false" />
    } @empty {
      <tw-empty-state title="No Tasks Today" />
    }
  </div>
</div>

<div class="task-list-group">
  <tw-task-list-header
    title="Tomorrow"
    headerSize="xs"
    icon="@tui.clock-3"
    [sticky]="true"
  >
    @if (tomorrowTasks().length > 0) {
      <button
        appearance="flat-grayscale"
        size="m"
        tuiIconButton
        iconStart="@tui.check-check"
        type="button"
        (click)="completeAll(tomorrowTasks())"
      >
        Complete All
      </button>
    }
  </tw-task-list-header>
  <div class="task-list-grid">
    @for (task of tomorrowTasks(); track task.id) {
      <tw-task-list-card [task]="task" [showCategory]="false" />
    } @empty {
      <tw-empty-state title="No Tasks Tomorrow" />
    }
  </div>
</div>

<div class="task-list-group">
  <tw-task-list-header
    title="Future"
    headerSize="xs"
    icon="@tui.calendar-days"
    [sticky]="true"
  >
    @if (futureTasks().length > 0) {
      <button
        appearance="flat-grayscale"
        size="m"
        tuiIconButton
        iconStart="@tui.check-check"
        type="button"
        (click)="completeAll(futureTasks())"
      >
        Complete All
      </button>
    }
  </tw-task-list-header>
  <div class="task-list-grid">
    @for (task of futureTasks(); track task.id) {
      <tw-task-list-card [task]="task" [showCategory]="false" />
    } @empty {
      <tw-empty-state title="No Future Tasks" />
    }
  </div>
</div>
